<!DOCTYPE html>
<html lang="vi">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Giảm giá</title>
<style>body{font-family:Arial;margin:24px}label{display:block;margin-top:8px}input,button,select{width:100%;padding:8px;margin-top:4px}</style>
</head>
<body>
<!-- inserted navbar for UI flow -->
<div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:18px">
  <a href="/index" style="padding:8px 12px;background:#0d6efd;color:white;text-decoration:none;border-radius:4px">Home</a>
  <a href="/appointments" style="padding:8px 12px;background:#0d6efd;color:white;text-decoration:none;border-radius:4px">Appointments</a>
  <a href="/appointment-assign" style="padding:8px 12px;background:#0d6efd;color:white;text-decoration:none;border-radius:4px">Assign appointment</a>
  <a href="/booking" style="padding:8px 12px;background:#0d6efd;color:white;text-decoration:none;border-radius:4px">Booking</a>
  <a href="/consultation" style="padding:8px 12px;background:#0d6efd;color:white;text-decoration:none;border-radius:4px">Consultation</a>
  <a href="/admin" style="padding:8px 12px;background:#6c757d;color:white;text-decoration:none;border-radius:4px">Admin</a>
</div>
<h1>Giảm giá</h1>
<label>Name</label><input id="name" />
<label>Percent</label><input id="percent" type="number" />
<label>Amount</label><input id="amount" type="number" step="0.01" />
<label>Created by (userId)</label><input id="createdBy" />
<div><button id="saveBtn">Save</button><button id="listBtn">List</button></div>
<div id="res"></div>
<script>
(function(){ const name=document.getElementById('name'); const percent=document.getElementById('percent'); const amount=document.getElementById('amount'); const createdBy=document.getElementById('createdBy'); const save=document.getElementById('saveBtn'); const list=document.getElementById('listBtn'); const res=document.getElementById('res'); save.addEventListener('click', ()=>{ fetch('/api/discounts',{ method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ name:name.value, percent: percent.value?Number(percent.value):null, amount: amount.value?Number(amount.value):null, createdBy: createdBy.value?Number(createdBy.value):null })}).then(r=>r.json()).then(b=>{ res.textContent='Saved id='+b.id}).catch(e=>{ res.textContent='Err' }); }); list.addEventListener('click', ()=>{ fetch('/api/discounts').then(r=>r.json()).then(l=>{ res.innerHTML = '<ul>'+l.map(d=>'<li>'+d.id+' - '+d.name+'</li>').join('')+'</ul>'; }); }); })();
</script>
</body>
</html>
